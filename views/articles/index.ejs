<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <title>Blog</title>
</head>
<body>
    <!-- (<%= %>)js variable from node js which used to output the variable  -->
   <div class="container">
        <h1 class="mb-4">Blog Articles</h1>
        <a href="/articles/new" class="btn btn-success">New article</a>

        <!-- <%= %>(outputs to html page)
        <% %>(will output to html page) -->

        <% articles.forEach(article=>{ %>
            <div class="card mt-4">
                <div class="card-body">
                    <h4 class="card-title"><%= article.title %></h4>
                    <!-- to convert timestamp to lcal date string  -->
                    <div class="card-subtitle text-muted mb-2"><%= article.createdAt.toLocaleDateString() %></div>
                    <div class="card-text mb-2"><%= article.description%></div>
                    <a href="/articles/<%= article.slug%>" class="btn btn-primary">Read more</a>
                    <a href="/articles/edit/<%= article.id %>" class="btn btn-info">Edit</a>

                    <!-- if we have anchor tag with href google will treat it GET method, when hoogle crawls your link they will click every single link tag while google indexes the page which will delete all the Blog post -->
                    <!-- <a href="/articles/<%= article.id%>" class="btn btn-danger">Delete</a> -->
                    <!-- hence use form for the specific methods -->
                    <form action="/articles/<%= article.id %>?_method=DELETE" method="POST" class="d-inline">
                        <button type="submit" class="btn btn-danger">Delete</button>
                    </form>
                </div>
            </div>
        <% }) %>
   </div>
</body>
</html>